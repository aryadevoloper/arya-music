<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Arya Musik</title>
  <style>
    /* General */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #000;
      color: #fff;
    }

    /* Loading Screen */
    #loading {
      position: fixed;
      inset: 0;
      background: #000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .loading-logo {
      width: 120px;
      margin-bottom: 20px;
    }

    .loader {
      border: 4px solid #333;
      border-top: 4px solid #1db954;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Hide content until loaded */
    .hidden {
      display: none;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      background: #111;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header h1 {
      margin: 0;
      font-size: 22px;
      color: #1db954;
    }

    header input {
      flex: 1;
      margin: 0 15px;
      padding: 8px 12px;
      border-radius: 20px;
      border: none;
      outline: none;
    }

    .logo-top {
      width: 40px;
      height: 40px;
      border-radius: 50%;
    }

    /* Music Grid */
    .music-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 15px;
      padding: 20px;
    }

    .music-card {
      background: #111;
      border-radius: 10px;
      padding: 10px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .music-card:hover {
      transform: scale(1.05);
    }

    .music-card img {
      width: 100%;
      border-radius: 8px;
    }

    .music-card h3 {
      margin: 10px 0 5px;
      font-size: 16px;
    }

    .music-card p {
      margin: 0;
      font-size: 14px;
      color: #aaa;
    }

    /* Global Player */
    #player {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #111;
      display: flex;
      align-items: center;
      padding: 10px;
      border-top: 1px solid #333;
    }

    #player img {
      width: 50px;
      height: 50px;
      border-radius: 5px;
      margin-right: 10px;
    }

    #player .info {
      flex: 1;
    }

    #player h2 {
      margin: 0;
      font-size: 16px;
    }

    #player p {
      margin: 0;
      font-size: 13px;
      color: #aaa;
    }

    #player button {
      background: #1db954;
      border: none;
      padding: 10px;
      border-radius: 50%;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading">
    <img src="logo.png" alt="Arya Musik Logo" class="loading-logo">
    <div class="loader"></div>
  </div>

  <!-- Main App -->
  <div id="app" class="hidden">
    <header>
      <h1>Arya Musik</h1>
      <input type="text" id="search" placeholder="Cari musik...">
      <img src="logo.png" class="logo-top" alt="Logo AM">
    </header>

    <main>
      <div id="results" class="music-grid"></div>
    </main>

    <!-- Global Player -->
    <footer id="player">
      <img id="cover" src="logo.png" alt="cover">
      <div class="info">
        <h2 id="title">Belum ada musik</h2>
        <p id="artist">-</p>
      </div>
      <button id="playPause">▶️</button>
      <audio id="audio"></audio>
    </footer>
  </div>

  <script>
    // Loading 7 detik
    window.addEventListener("load", () => {
      setTimeout(() => {
        document.getElementById("loading").style.display = "none";
        document.getElementById("app").classList.remove("hidden");
      }, 7000);
    });

    // Fake Data Musik
    const musicData = [
      { title: "On My Way", artist: "Alan Walker", cover: "logo.png", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" },
      { title: "Faded", artist: "Alan Walker", cover: "logo.png", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" },
      { title: "Alone", artist: "Marshmello", cover: "logo.png", url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" }
    ];

    const results = document.getElementById("results");
    const audio = document.getElementById("audio");
    const playPause = document.getElementById("playPause");
    const cover = document.getElementById("cover");
    const title = document.getElementById("title");
    const artist = document.getElementById("artist");
    let currentSong = null;

    // Render music list
    function renderMusic(list) {
      results.innerHTML = "";
      list.forEach((m, i) => {
        const card = document.createElement("div");
        card.className = "music-card";
        card.innerHTML = `
          <img src="${m.cover}" alt="${m.title}">
          <h3>${m.title}</h3>
          <p>${m.artist}</p>
        `;
        card.addEventListener("click", () => playMusic(i));
        results.appendChild(card);
      });
    }

    renderMusic(musicData);

    // Play Music
    function playMusic(index) {
      const song = musicData[index];
      audio.src = song.url;
      cover.src = song.cover;
      title.textContent = song.title;
      artist.textContent = song.artist;
      audio.play();
      playPause.textContent = "⏸️";
      currentSong = song;
    }

    // Play/Pause toggle
    playPause.addEventListener("click", () => {
      if (!currentSong) return;
      if (audio.paused) {
        audio.play();
        playPause.textContent = "⏸️";
      } else {
        audio.pause();
        playPause.textContent = "▶️";
      }
    });

    // Search
    document.getElementById("search").addEventListener("input", e => {
      const q = e.target.value.toLowerCase();
      const filtered = musicData.filter(m => 
        m.title.toLowerCase().includes(q) || m.artist.toLowerCase().includes(q)
      );
      renderMusic(filtered);
    });
  </script>
</body>
  </html>
